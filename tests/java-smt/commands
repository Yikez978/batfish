#this file assumes that we are running from top-level source directory

add-batfish-option haltonconverterror
add-batfish-option haltonparseerror
add-batfish-option verboseparse

# example ospf
test tests/java-smt/init-ospf1.ref init-testrig test_rigs/smt-examples/OSPF3
test tests/java-smt/ospf1-forward.ref get smt-forwarding destination="70.70.70.70/32"
test tests/java-smt/ospf1-reachable.ref get smt-reachability node1Regex="R3" | ifaceRegex="Loopback.*"
test tests/java-smt/ospf1-bounded-len.ref get smt-bounded-length node1Regex="R3" | ifaceRegex="Loopback.*" | bound=2
test tests/java-smt/ospf1-routing-loop.ref get smt-routing-loop
test tests/java-smt/ospf1-blackhole.ref get smt-blackhole
test tests/java-smt/ospf1-multipath.ref get smt-multipath-consistency node1Regex="R3" | ifaceRegex="Loopback.*"

# example bgp
test tests/java-smt/init-bgp1.ref init-testrig test_rigs/smt-examples/ENV2
test tests/java-smt/bgp1-local.ref get smt-local-consistency nodeRegex=".*"
test tests/java-smt/bgp1-local2.ref get smt-local-consistency nodeRegex=""